<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thư Mời Tốt Nghiệp</title>
    
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js"></script>

    <script src="https://unpkg.com/lucide@latest"></script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Montserrat:wght@300;400;600&family=Orbitron:wght@500;700&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Montserrat', sans-serif;
            background-color: #0f172a; 
            color: white;
            overflow-x: hidden;
            margin: 0;
            padding: 0;
        }
        .font-tech {
            font-family: 'Orbitron', sans-serif;
        }
        .font-script {
            font-family: 'Dancing Script', cursive;
        }
        
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #0f172a; 
        }
        ::-webkit-scrollbar-thumb {
            background: #06b6d4; 
            border-radius: 4px;
        }

        /* Animation cho Avatar Glow */
        @keyframes pulse-glow {
            0% { box-shadow: 0 0 0 0 rgba(6, 182, 212, 0.4); }
            70% { box-shadow: 0 0 0 15px rgba(6, 182, 212, 0); }
            100% { box-shadow: 0 0 0 0 rgba(6, 182, 212, 0); }
        }
        .avatar-glow {
            animation: pulse-glow 2s infinite;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script src="main.js"></script>
    <script type="text/babel">
        const { useState, useEffect, useRef } = React;
        const { motion } = window.Motion;

        const TechParticles = () => {
            const canvasRef = useRef(null);

            useEffect(() => {
                const canvas = canvasRef.current;
                const ctx = canvas.getContext('2d');
                let width, height;
                let particles = [];

                const resize = () => {
                    width = canvas.width = window.innerWidth;
                    height = canvas.height = window.innerHeight;
                };

                const createParticles = () => {
                    particles = [];
                    const count = window.innerWidth < 768 ? 40 : 80;
                    for (let i = 0; i < count; i++) {
                        particles.push({
                            x: Math.random() * width,
                            y: Math.random() * height,
                            vx: (Math.random() - 0.5) * 0.5,
                            vy: (Math.random() - 0.5) * 0.5,
                            size: Math.random() * 2 + 1
                        });
                    }
                };

                const draw = () => {
                    ctx.clearRect(0, 0, width, height);
                    
                    ctx.strokeStyle = 'rgba(6, 182, 212, 0.15)'; 
                    ctx.lineWidth = 1;
                    
                    for (let i = 0; i < particles.length; i++) {
                        let p = particles[i];
                        
                        p.x += p.vx;
                        p.y += p.vy;

                        if (p.x < 0 || p.x > width) p.vx *= -1;
                        if (p.y < 0 || p.y > height) p.vy *= -1;

                        ctx.fillStyle = 'rgba(6, 182, 212, 0.6)';
                        ctx.beginPath();
                        ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
                        ctx.fill();

                        for (let j = i + 1; j < particles.length; j++) {
                            let p2 = particles[j];
                            let dx = p.x - p2.x;
                            let dy = p.y - p2.y;
                            let distance = Math.sqrt(dx*dx + dy*dy);

                            if (distance < 150) {
                                ctx.beginPath();
                                ctx.moveTo(p.x, p.y);
                                ctx.lineTo(p2.x, p2.y);
                                ctx.stroke();
                            }
                        }
                    }
                    requestAnimationFrame(draw);
                };

                resize();
                createParticles();
                draw();

                window.addEventListener('resize', () => {
                    resize();
                    createParticles();
                });

                return () => window.removeEventListener('resize', resize);
            }, []);

            return (
                <canvas 
                    ref={canvasRef} 
                    className="fixed top-0 left-0 w-full h-full -z-10 pointer-events-none"
                    style={{ background: 'radial-gradient(circle at center, #1e293b 0%, #0f172a 100%)' }}
                />
            );
        };

        const CalendarIcon = () => (
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>
        );
        const ClockIcon = () => (
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg>
        );
        const MapPinIcon = () => (
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path><circle cx="12" cy="10" r="3"></circle></svg>
        );
        const PhoneIcon = () => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="lucide lucide-phone-icon lucide-phone"><path d="M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384"/></svg>
        );
        const GraduateIcon = () => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="lucide lucide-graduation-cap-icon lucide-graduation-cap"><path d="M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z"/><path d="M22 10v6"/><path d="M6 12.5V16a6 3 0 0 0 12 0v-3.5"/></svg>
        );

        function dena(encStr){try{const latin1=window.atob(encStr);const uriComponent=escape(latin1);return decodeURIComponent(uriComponent);}catch (e){return "Bạn";}}

        const App = () => {
            const params = new URLSearchParams(window.location.search);
            const guestNameCode = params.get('n')?.toLocaleLowerCase();
            const guestName = dena(ls[guestNameCode]) || "Bạn";
            const mapLink = "https://maps.app.goo.gl/2KKD6t8josFVc6V28?g_st=ipc"; 
            const myImage = "./graduate.jpg"; 
            
            return (
                <div className="min-h-screen flex items-center justify-center p-4 relative overflow-hidden">
                    <TechParticles />

                    <motion.div 
                        initial={{ opacity: 0, y: 30 }}
                        animate={{ opacity: 1, y: 0 }}
                        transition={{ duration: 0.8, ease: "easeOut" }}
                        className="relative w-full max-w-4xl bg-slate-900/60 backdrop-blur-xl border border-slate-700/50 rounded-3xl shadow-2xl overflow-hidden flex flex-col md:flex-row"
                    >
                        
                        <div className="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-cyan-500 via-blue-500 to-purple-600"></div>

                        <div className="w-full md:w-5/12 relative bg-slate-800/50 flex flex-col items-center justify-center p-8 border-b md:border-b-0 md:border-r border-slate-700/50">
                            
                            <div className="absolute top-4 left-4 text-cyan-500/30">
                                <GraduateIcon />
                            </div>
                            <div className="absolute bottom-4 right-4 text-cyan-500/30">
                                <GraduateIcon />
                            </div>

                            <motion.div 
                                className="relative w-48 h-48 md:w-56 md:h-56 mb-6"
                                whileHover={{ scale: 1.05 }}
                                transition={{ type: "spring", stiffness: 300 }}
                            >
                                <div className="absolute inset-0 rounded-full border-2 border-dashed border-cyan-400/50 animate-[spin_10s_linear_infinite]"></div>
                                <div className="absolute inset-2 rounded-full overflow-hidden border-2 border-cyan-400 shadow-[0_0_20px_rgba(34,211,238,0.3)] avatar-glow bg-slate-900">
                                    <img 
                                        src={myImage} 
                                        alt="Graduate" 
                                        className="w-full h-full object-cover"
                                        onError={(e) => {e.target.src = 'https://placehold.co/400?text=Your+Photo'}}
                                    />
                                </div>
                            </motion.div>

                            <div className="text-center">
                                <h3 className="text-slate-400 text-sm font-tech tracking-widest uppercase mb-1">Graduation Ceremony</h3>
                                <h2 className="text-2xl font-bold text-white font-tech">2025</h2>
                            </div>
                        </div>

                        <div className="w-full md:w-7/12 p-8 md:p-12 text-center md:text-left flex flex-col justify-center relative">
                            
                            <motion.div
                                initial={{ opacity: 0 }}
                                animate={{ opacity: 1 }}
                                transition={{ delay: 0.3 }}
                            >
                                <p className="text-cyan-400 font-bold tracking-wider text-sm mb-2 uppercase flex items-center justify-center md:justify-start gap-2">
                                    <span className="w-2 h-2 rounded-full bg-cyan-400 animate-pulse"></span>
                                    Invitation
                                </p>
                                <h1 className="text-3xl md:text-4xl font-bold text-white mb-2 font-tech bg-clip-text text-transparent bg-gradient-to-r from-white via-cyan-100 to-slate-300">
                                    LỄ TỐT NGHIỆP
                                </h1>
                                <p className="text-slate-400 text-sm md:text-base mb-6">Sự có mặt của bạn là niềm vui to lớn của tuii.</p>
                            </motion.div>

                            <motion.div 
                                className="my-6 py-4 border-t border-b border-slate-700/50 relative"
                                initial={{ scale: 0.9, opacity: 0 }}
                                animate={{ scale: 1, opacity: 1 }}
                                transition={{ delay: 0.5 }}
                            >
                                <p className="text-slate-500 text-xs uppercase tracking-widest mb-2 text-center">Gửi tới</p>
                                <h2 className="text-4xl md:text-5xl text-center text-cyan-300 font-script drop-shadow-[0_0_10px_rgba(34,211,238,0.5)]">
                                    {guestName}
                                </h2>
                            </motion.div>

                            <div className="space-y-4 mb-8">
                                <div className="flex items-center gap-3 text-slate-300 bg-slate-800/40 p-3 rounded-lg hover:bg-slate-800/60 transition-colors">
                                    <div className="text-cyan-400"><ClockIcon /></div>
                                    <div className="text-left">
                                        <p className="text-xs text-slate-500 uppercase font-bold">Thời gian</p>
                                        <p className="font-semibold">15:00 - Ngày 13/12/2025 (Thứ Bảy)</p>
                                    </div>
                                </div>
                                <div className="flex items-center gap-3 text-slate-300 bg-slate-800/40 p-3 rounded-lg hover:bg-slate-800/60 transition-colors">
                                    <div className="text-cyan-400"><MapPinIcon /></div>
                                    <div className="text-left">
                                        <p className="text-xs text-slate-500 uppercase font-bold">Địa điểm</p>
                                        <p className="font-semibold">Đại học Mở TP.HCM (OU)</p>
                                        <p className="text-xs text-slate-400">97 Võ Văn Tần, P.Xuân Hòa, TP. Hồ Chí Minh</p>
                                    </div>
                                </div>
                                <div className="flex items-center gap-3 text-slate-300 bg-slate-800/40 p-3 rounded-lg hover:bg-slate-800/60 transition-colors">
                                    <div className="text-cyan-400"><PhoneIcon /></div>
                                    <div className="text-left mr-auto">
                                        <p className="text-xs text-slate-500 uppercase font-bold">Số điện thoại</p>
                                        <p className="font-semibold">033 740 7743</p>
                                    </div>
                                    <motion.div
                                        whileHover={{ scale: 1.02 }}
                                        whileTap={{ scale: 0.98 }}
                                    >
                                        <a 
                                            href="tel:0337407743" 
                                            className="block w-12 text-center bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-500 hover:to-blue-500 text-white font-bold py-4 rounded-xl shadow-[0_0_20px_rgba(6,182,212,0.4)] transition-all duration-500 flex items-center justify-center gap-2 group"
                                        >
                                            <span>Gọi</span>
                                        </a>
                                    </motion.div>
                                </div>
                            </div>

                            <motion.div
                                whileHover={{ scale: 1.02 }}
                                whileTap={{ scale: 0.98 }}
                            >
                                <a 
                                    href={mapLink} 
                                    target="_blank" 
                                    className="block w-full text-center bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-500 hover:to-blue-500 text-white font-bold py-4 rounded-xl shadow-[0_0_20px_rgba(6,182,212,0.4)] transition-all duration-500 flex items-center justify-center gap-2 group"
                                >
                                    <span>Xem google map nè</span>
                                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="group-hover:translate-x-1 transition-transform"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg>
                                </a>
                            </motion.div>

                        </div>
                    </motion.div>
                    
                    <footer className="absolute bottom-2 text-slate-600 text-xs text-center w-full">
                        Văn Nin &copy; 2025
                    </footer>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
        console.log("Saoooo");
    </script>
</body>
</html>